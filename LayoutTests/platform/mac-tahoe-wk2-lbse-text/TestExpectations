# This TestExpectations file reflects the current status of the 'Layer-Based SVG Engine' (LBSE) in WebKit
#
# 1. Run tests against legacy SVG engine
#    $ run-webkit-tests --additional-platform-directory=$PWD/LayoutTests/platform/mac-tahoe-wk2-pixel \
#                       --pixel-tests --tolerance=0 css3/masking imported/w3c/web-platform-tests/svg svg
#
# 2. Run tests against LBSE
#    $ run-webkit-tests --additional-platform-directory=$PWD/LayoutTests/platform/mac-tahoe-wk2-lbse-text \
#                       --additional-platform-directory=$PWD/LayoutTests/platform/mac-tahoe-wk2-pixel \
#                       --additional-expectations=$PWD/LayoutTests/platform/mac-tahoe-wk2-lbse-text/TestExpectations \
#                       --pixel-tests --tolerance=0 --internal-feature=LayerBasedSVGEngineEnabled=true css3/masking imported/w3c/web-platform-tests/svg svg
#
# Notes:
# - 'platform/mac-tahoe-wk2-pixel'     -> contains only pixel test results (-expected.png) generated on macOS Tahoe 26.0 using legacy SVG engine
# - 'platform/mac-tahoe-wk2-lbse-text' -> contains mostly text results (-expected.txt) which are intrinsically different between LBSE / legacy
#                                         SVG engine plus a few pixel test results (-expected.png) that differ from the legacy SVG engine
#                                         (e.g. progressions in individual tests)

# Filter issues
svg/custom/resource-invalidate-on-target-update.svg                                    [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-color-01-b.svg                                                 [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-comptran-01-b.svg                                              [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-example-01-b.svg                                               [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-felem-01-b.svg                                                 [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-morph-01-f.svg                                                 [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-offset-01-b.svg                                                [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-turb-02-f.svg                                                  [ ImageOnlyFailure ]
svg/batik/filters/filterRegions.svg                                                    [ ImageOnlyFailure ]
svg/batik/text/smallFonts.svg                                                          [ ImageOnlyFailure ]
svg/batik/text/textFeatures.svg                                                        [ ImageOnlyFailure ]
svg/crash-svg-filter-empty-viewport.svg                                                [ Failure ]
svg/css/path-gradient-stroke-shadow.svg                                                [ Failure ImageOnlyFailure ]
svg/css/rect-gradient-stroke-shadow.svg                                                [ Failure ImageOnlyFailure ]
svg/css/text-gradient-shadow.svg                                                       [ ImageOnlyFailure ]
svg/custom/feComponentTransfer-Discrete.svg                                            [ ImageOnlyFailure ]
svg/custom/feComponentTransfer-Gamma.svg                                               [ ImageOnlyFailure ]
svg/custom/feComponentTransfer-Linear.svg                                              [ ImageOnlyFailure ]
svg/custom/feComponentTransfer-Table.svg                                               [ ImageOnlyFailure ]
svg/custom/image-with-transform-clip-filter.svg                                        [ ImageOnlyFailure ]
svg/custom/recursive-filter.svg                                                        [ ImageOnlyFailure ]
svg/custom/resources-css-scaled.html                                                   [ ImageOnlyFailure ]
svg/custom/visibility-override-filter.svg                                              [ ImageOnlyFailure ]
svg/filters/filter-image-ref-root.html                                                 [ ImageOnlyFailure ]
svg/filters/filter-on-filter-for-text.svg                                              [ ImageOnlyFailure ]
svg/filters/filter-refresh.svg                                                         [ ImageOnlyFailure ]
svg/filters/filter-width-update.svg                                                    [ ImageOnlyFailure ]
svg/filters/repeated-drop-shadow-effects.svg                                           [ ImageOnlyFailure ]
svg/filters/sourceAlpha.svg                                                            [ ImageOnlyFailure ]
svg/filters/subRegion-one-effect.svg                                                   [ ImageOnlyFailure ]
svg/filters/subRegion-two-effects.svg                                                  [ ImageOnlyFailure ]
#  Dynamic updates to filter input should render correctly (bugs.webkit.org/b/275844)
svg/dynamic-updates/SVGFEBlendElement-dom-in-attr.html                                 [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEBlendElement-dom-in2-attr.html                                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEBlendElement-dom-mode-attr.html                               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEColorMatrixElement-dom-in-attr.html                           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEColorMatrixElement-dom-type-attr.html                         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEColorMatrixElement-dom-values-attr.html                       [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEColorMatrixElement-svgdom-in-prop.html                        [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEColorMatrixElement-svgdom-type-prop.html                      [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEColorMatrixElement-svgdom-values-prop.html                    [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-amplitude-attr.html              [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-exponent-attr.html               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-intercept-attr.html              [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-offset-attr.html                 [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-slope-attr.html                  [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-tableValues-attr.html            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-dom-type-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-amplitude-prop.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-exponent-prop.html            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-intercept-prop.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-offset-prop.html              [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-slope-prop.html               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-tableValues-prop.html         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEComponentTransferElement-svgdom-type-prop.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-in-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-in2-attr.html                            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-k1-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-k2-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-k3-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-k4-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-dom-operator-attr.html                       [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-in-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-in2-prop.html                         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-k1-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-k2-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-k3-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-k4-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFECompositeElement-svgdom-operator-prop.html                    [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-bias-attr.html                      [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-divisor-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-edgeMode-attr.html                  [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-in-attr.html                        [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-kernelMatrix-attr.html              [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-kernelUnitLength-attr.html          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-order-attr.html                     [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-preserveAlpha-attr.html             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-targetX-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-dom-targetY-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-bias-prop.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-divisor-prop.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-edgeMode-prop.html               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-in-prop.html                     [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-kernelMatrix-prop.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-kernelUnitLength-prop.html       [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-order-prop.html                  [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-preserveAlpha-prop.html          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-targetX-prop.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEConvolveMatrixElement-svgdom-targetY-prop.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-dom-diffuseConstant-attr.html          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-dom-in-attr.html                       [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-dom-lighting-color-attr.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-dom-surfaceScale-attr.html             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-inherit-lighting-color-css-prop.html   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-lighting-color-css-prop.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-svgdom-diffuseConstant-prop.html       [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-svgdom-in-prop.html                    [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDiffuseLightingElement-svgdom-surfaceScale-prop.html          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDistantLightElement-dom-azimuth-attr.html                     [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDistantLightElement-dom-elevation-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDistantLightElement-svgdom-azimuth-prop.html                  [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDistantLightElement-svgdom-elevation-prop.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-dom-dx-attr.html                            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-dom-dy-attr.html                            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-dom-in-attr.html                            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-dom-shadow-color-attr.html                  [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-dom-shadow-opacity-attr.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-dom-stdDeviation-attr.html                  [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-svgdom-dx-prop.html                         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-svgdom-dy-prop.html                         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-svgdom-in-prop.html                         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-svgdom-shadow-color-prop.html               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-svgdom-shadow-opacity-prop.html             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEDropShadowElement-svgdom-stdDeviation-prop.html               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEGaussianBlurElement-dom-edgeMode-attr.html                    [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEGaussianBlurElement-dom-in-attr.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEGaussianBlurElement-dom-stdDeviation-attr.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEGaussianBlurElement-dom-stdDeviation-call.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEGaussianBlurElement-svgdom-edgeMode-prop.html                 [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEGaussianBlurElement-svgdom-in-prop.html                       [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEImageElement-dom-preserveAspectRatio-attr.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEImageElement-svgdom-preserveAspectRatio-prop.html             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEMergeNodeElement-dom-in-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEMergeNodeElement-svgdom-in-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEMorphologyElement-dom-in-attr.html                            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEMorphologyElement-svgdom-in-prop.html                         [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEOffsetElement-dom-dx-attr.html                                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEOffsetElement-dom-dy-attr.html                                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEOffsetElement-dom-in-attr.html                                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEOffsetElement-svgdom-dx-prop.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEOffsetElement-svgdom-dy-prop.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEOffsetElement-svgdom-in-prop.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEPointLightElement-dom-x-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEPointLightElement-dom-y-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEPointLightElement-dom-z-attr.html                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEPointLightElement-svgdom-x-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEPointLightElement-svgdom-y-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFEPointLightElement-svgdom-z-prop.html                          [ ImageOnlyFailure ]
svg/dynamic-updates/SVGFESpecularLightingElement-remove-lightSource.html               [ ImageOnlyFailure ]
svg/filters/big-sized-filter-2.svg                                                     [ ImageOnlyFailure ]
svg/filters/big-sized-filter.svg                                                       [ ImageOnlyFailure ]
svg/filters/container-with-filters.svg                                                 [ ImageOnlyFailure ]
svg/filters/css-filter-specified-on-svg-root.html                                      [ ImageOnlyFailure ]
svg/filters/css-repaint-reference-filter-on-root.html                                  [ Failure ]
svg/filters/feColorMatrix-saturate.svg                                                 [ ImageOnlyFailure ]
svg/filters/feColorMatrix-values.svg                                                   [ ImageOnlyFailure ]
# Invalid filter effects should not render (https://bugs.webkit.org/show_bug.cgi?id=275843)
svg/filters/feConvolveMatrix-invalid-targetX.svg                                       [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-invalid-targetY.svg                                       [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-negative-kernelUnitLengthX.svg                            [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-negative-kernelUnitLengthY.svg                            [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-negative-orderX.svg                                       [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-negative-orderY.svg                                       [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-non-integral-order.svg                                    [ ImageOnlyFailure ]
svg/filters/feConvolveMatrix-zero-divisor.svg                                          [ ImageOnlyFailure ]
svg/filters/feDisplacementMap.svg                                                      [ ImageOnlyFailure ]
svg/filters/feDropShadow-negative-deviation.svg                                        [ ImageOnlyFailure ]
svg/filters/feDropShadow-subregion.svg                                                 [ ImageOnlyFailure ]
svg/filters/feDropShadow-zero-deviation.svg                                            [ ImageOnlyFailure ]
svg/filters/feDropShadow.svg                                                           [ ImageOnlyFailure ]
svg/filters/feGaussianBlur-negative-deviation.svg                                      [ ImageOnlyFailure ]
svg/filters/feGaussianBlur-zero-deviation.svg                                          [ ImageOnlyFailure ]
svg/filters/feImage-animated-transform-on-target-rect.svg                              [ ImageOnlyFailure ]
svg/filters/feImage-change-target-id.svg                                               [ ImageOnlyFailure ]
svg/filters/feImage-cyclic-reference.svg                                               [ ImageOnlyFailure ]
svg/filters/feImage-element-primitive-subregion.svg                                    [ ImageOnlyFailure ]
svg/filters/feImage-filterUnits-objectBoundingBox-primitiveUnits-objectBoundingBox.svg [ ImageOnlyFailure ]
svg/filters/feImage-filterUnits-objectBoundingBox-primitiveUnits-userSpaceOnUse.svg    [ ImageOnlyFailure ]
svg/filters/feImage-filterUnits-userSpaceOnUse-primitiveUnits-objectBoundingBox.svg    [ ImageOnlyFailure ]
svg/filters/feImage-filterUnits-userSpaceOnUse-primitiveUnits-userSpaceOnUse.svg       [ ImageOnlyFailure ]
svg/filters/feImage-late-indirect-update.svg                                           [ ImageOnlyFailure ]
svg/filters/feImage-preserveAspectRatio-all.svg                                        [ ImageOnlyFailure ]
svg/filters/feImage-reference-svg-primitive.svg                                        [ ImageOnlyFailure ]
svg/filters/feImage-remove-target.svg                                                  [ ImageOnlyFailure ]
svg/filters/feImage-self-and-other-referencing.html                                    [ ImageOnlyFailure ]
svg/filters/feImage-self-referencing.html                                              [ ImageOnlyFailure ]
svg/filters/feImage-subregions-preseveAspectRatio-none-with-viewBox.svg                [ ImageOnlyFailure ]
svg/filters/feImage-target-attribute-change-with-use-indirection-2.svg                 [ ImageOnlyFailure ]
svg/filters/feImage-target-attribute-change-with-use-indirection.svg                   [ ImageOnlyFailure ]
svg/filters/feLighting-crash.svg                                                       [ ImageOnlyFailure ]
svg/filters/feMorphology-radius-cases.svg                                              [ ImageOnlyFailure ]
svg/filters/feOffset.svg                                                               [ ImageOnlyFailure ]
svg/filters/feTile.svg                                                                 [ ImageOnlyFailure ]
svg/filters/feTurbulence_bad_seeds.html                                                [ ImageOnlyFailure ]
svg/filters/filter-clip.svg                                                            [ ImageOnlyFailure ]
svg/filters/filter-on-root-tile-boundary.html                                          [ ImageOnlyFailure ]
svg/filters/filter-on-tspan.svg                                                        [ ImageOnlyFailure ]
svg/filters/filter-placement-issue.svg                                                 [ ImageOnlyFailure ]
svg/filters/filter-source-position.svg                                                 [ ImageOnlyFailure ]
svg/filters/filter-specified-on-svg-root.html                                          [ ImageOnlyFailure ]

# SVGImage support incomplete
svg/as-image/image-respects-pageScaleFactor-change.html                   [ ImageOnlyFailure ]
svg/as-image/img-preserveAspectRatio-support-1.html                       [ Failure ]
svg/as-image/same-image-two-instances.html                                [ ImageOnlyFailure ]
svg/as-image/svg-as-image-with-relative-size.html                         [ ImageOnlyFailure ]
svg/as-image/svg-image-no-viewbox-preserve-aspect-ratio-none.html         [ ImageOnlyFailure ]
svg/custom/use-image-in-g.svg                                             [ ImageOnlyFailure ]
svg/zoom/page/zoom-img-preserveAspectRatio-support-1.html                 [ ImageOnlyFailure ]
# SVG document w/o viewBox + <img> sizing differs to FF/Chrome
svg/as-background-image/background-image-preserveaspectRatio-support.html [ ImageOnlyFailure ]

# Pattern problems
svg/batik/paints/patternPreserveAspectRatioA.svg  [ Failure ]
svg/custom/pattern-content-inheritance-cycle.svg  [ ImageOnlyFailure ]
svg/transforms/transformed-text-fill-pattern.html [ ImageOnlyFailure ]

# Clipping problems
css3/masking/reference-clip-path-change-repaint.html          [ Failure ]
svg/batik/text/textProperties.svg                             [ ImageOnlyFailure ]
svg/clip-path/clip-path-use-referencing-clipped-text.html     [ ImageOnlyFailure ]
svg/clip-path/hittest-transformed-clip-objectboundingbox.html [ Failure ]
svg/clip-path/transformed-clip.svg                            [ ImageOnlyFailure ]
svg/custom/image-clipped-hit.svg                              [ Failure ]

# Masking problems
svg/custom/grayscale-gradient-mask.svg                               [ ImageOnlyFailure ]
svg/custom/grayscale-gradient-mask-2.svg                             [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-dom-height-attr.html              [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-dom-maskContentUnits-attr.html    [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-dom-maskUnits-attr.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-dom-width-attr.html               [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-dom-x-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-dom-y-attr.html                   [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-svgdom-height-prop.html           [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-svgdom-maskContentUnits-prop.html [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-svgdom-maskUnits-prop.html        [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-svgdom-width-prop.html            [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-svgdom-x-prop.html                [ ImageOnlyFailure ]
svg/dynamic-updates/SVGMaskElement-svgdom-y-prop.html                [ ImageOnlyFailure ]
svg/masking/mask-negative-scale.svg                                  [ ImageOnlyFailure ]
svg/repaint/mask-clip-target-transform.svg                           [ ImageOnlyFailure ]

# Hit testing issues
svg/custom/pointer-events-image-css-transform.svg [ ImageOnlyFailure ]
svg/custom/pointer-events-image.svg               [ ImageOnlyFailure ]
svg/custom/pointer-events-path.svg                [ ImageOnlyFailure ]
svg/custom/pointer-events-text-css-transform.svg  [ ImageOnlyFailure ]
svg/custom/pointer-events-text.svg                [ ImageOnlyFailure ]

# Bounding box issues
imported/w3c/web-platform-tests/svg/interact/scripted/svg-pointer-events-bbox.html    [ Failure ]
imported/w3c/web-platform-tests/svg/types/scripted/SVGGraphicsElement.getBBox-03.html [ Failure ]
imported/w3c/web-platform-tests/svg/types/scripted/SVGGraphicsElement.getBBox-06.html [ Failure ]
svg/text/text-bbox-empty.html                                                         [ Failure ]

# Failing WPT reftests
imported/w3c/web-platform-tests/svg/animations/animate-rewind-freeze-indefinite.svg                    [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/animations/scripted/animateMotion-animated-line.svg                [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/animations/scripted/clear-mapped-animation.svg                     [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-modify-href-1.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-modify-href-2.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-modify-href-3.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-modify-href-4.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-remove-href-1.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-remove-href-2.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/embedded/image-remove-href-3.svg                                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/linking/reftests/svgview-viewbox-override-multiple.html            [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/painting/marker-009.svg                                            [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/painting/reftests/non-scaling-stroke-001.html                      [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/painting/reftests/non-scaling-stroke-002.html                      [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/painting/reftests/non-scaling-stroke-004.html                      [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/painting/reftests/paint-context-008.svg                            [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/painting/scripted/marker-element-added.html                        [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/pservers/reftests/gradient-transform-01.svg                        [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/pservers/reftests/gradient-transform-02.svg                        [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/pservers/reftests/pattern-inheritance-template-pattern-removed.svg [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/render/reftests/blending-svg-foreign-object.html                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/shapes/reftests/pathlength-004b.svg                                [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/shapes/reftests/pathlength-005.html                                [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/styling/border-spacing-svg-zoom-table-display.html                 [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/styling/invalidation/nth-child-of-class.svg                        [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/styling/invalidation/nth-last-child-of-class.svg                   [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/text/reftests/dominant-baseline-hanging-small-font-size.svg        [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/text/reftests/opacity.svg                                          [ ImageOnlyFailure ]
imported/w3c/web-platform-tests/svg/text/reftests/text-path-transformed-002.html                       [ ImageOnlyFailure ]

# <foreignObject> issues
svg/foreignObject/filter.html                 [ ImageOnlyFailure ]
svg/foreignObject/vertical-foreignObject.html [ ImageOnlyFailure ]
svg/overflow/overflow-on-foreignObject.svg    [ ImageOnlyFailure ]

# TODO: Test needs to be adapted (see test), then it will pass with LBSE, but fail legacy -- leaving it as-is for now.
svg/transforms/svgsvgelement-transform.svg [ ImageOnlyFailure ]

# Outline / focus-ring support
svg/custom/focus-ring.svg [ ImageOnlyFailure ]

# Text rendering visually different
svg/W3C-SVG-1.1/text-text-05-t.svg                 [ ImageOnlyFailure ]
svg/W3C-SVG-1.1/text-text-08-b.svg                 [ ImageOnlyFailure ]
svg/hittest/text-multiple-dx-values.svg            [ ImageOnlyFailure ]
svg/hittest/text-with-multiple-tspans.svg          [ ImageOnlyFailure ]
svg/hittest/text-with-text-path.svg                [ ImageOnlyFailure ]
svg/text/text-paint-order-stroke-fill-gradient.svg [ ImageOnlyFailure ]
svg/text/text-text-05-t.svg                        [ ImageOnlyFailure ]

# Text rendering has issues with CSS 'visibility'
svg/batik/text/textProperties2.svg [ ImageOnlyFailure ]

# Overflow/scrollbar handling issues
svg/in-html/overflow-svg-root-attr.html  [ ImageOnlyFailure ]
svg/in-html/overflow-svg-root-style.html [ ImageOnlyFailure ]

# CSS 'mix-blend-mode' broken
svg/css/mix-blend-mode-background-root.svg [ ImageOnlyFailure ]
svg/css/mix-blend-mode-opacity-root.svg    [ ImageOnlyFailure ]

# Non-scaling stroke issues
svg/zoom/page/non-scaling-stroke-textRendering-default.svg            [ ImageOnlyFailure ]
svg/zoom/page/non-scaling-stroke-textRendering-geometricPrecision.svg [ ImageOnlyFailure ]

# Opacity issues
svg/custom/text-image-opacity.svg [ ImageOnlyFailure ]
svg/text/text-text-08-b.svg       [ ImageOnlyFailure ]

# <use> issues
svg/W3C-SVG-1.2-Tiny/struct-use-recursion-01-t.svg [ ImageOnlyFailure ]
svg/custom/use-in-symbol-with-offset.svg           [ ImageOnlyFailure ]
svg/custom/use-nested-symbol-viewport.html         [ ImageOnlyFailure ]
svg/custom/use-nested.svg                          [ ImageOnlyFailure ]

# SMIL animation issues
svg/animations/animateMotion-additive-1.svg [ ImageOnlyFailure ]
svg/stroke/animated-non-scaling-stroke.html [ ImageOnlyFailure ]

# SVGViewSpec / svgView() support broken
svg/custom/linking-a-03-b-all.svg               [ ImageOnlyFailure ]
svg/custom/linking-a-03-b-transform.svg         [ ImageOnlyFailure ]
svg/custom/linking-a-03-b-viewBox-transform.svg [ ImageOnlyFailure ]
svg/custom/linking-a-03-b-viewBox.svg           [ ImageOnlyFailure ]
svg/custom/linking-uri-01-b.svg                 [ ImageOnlyFailure ]
svg/custom/multiple-view-elements.html          [ ImageOnlyFailure ]
svg/dom/complex-svgView-specification.html      [ ImageOnlyFailure ]

# Empty viewBox doesn't disable rendering for inline SVG documents
svg/custom/viewBox-empty.html [ ImageOnlyFailure ]

# SVG <image> (buffered-rendering) issues
svg/repaint/buffered-rendering-static-image.html [ ImageOnlyFailure ]

# SVG in HTML sizing issues
svg/custom/relative-sized-deep-shadow-tree-content.xhtml [ ImageOnlyFailure ]
svg/hixie/mixed/006.xml                                  [ ImageOnlyFailure ]
svg/hixie/mixed/011.xml                                  [ ImageOnlyFailure ]

# Unknown error (nothing rendered)
svg/text/adding-id-on-pending-path.html [ ImageOnlyFailure ]

svg/carto.net/button.svg        [ Failure ]
svg/carto.net/colourpicker.svg  [ Failure ]
svg/carto.net/combobox.svg      [ Failure ]
svg/carto.net/selectionlist.svg [ Failure ]
svg/carto.net/tabgroup.svg      [ Failure ]
svg/carto.net/textbox.svg       [ Failure ]

###############
# Buggy tests #
###############

# Parses render tree output, therefore not adapted to LBSE.
svg/outermost-svg-root.html [ Failure ]

###############
# Flaky tests #
###############

# 1) Text rendering flakines issue with SVG Fonts (also in legacy engine)
svg/W3C-SVG-1.1/fonts-desc-02-t.svg [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/fonts-elem-04-b.svg [ Pass ImageOnlyFailure ]

# 2) SVG <image> flakiness
svg/as-background-image/svg-as-background-6.html                         [ Pass ImageOnlyFailure ]
svg/as-image/image-preserveAspectRatio-all.svg                           [ Pass ImageOnlyFailure ]
svg/as-image/svg-as-image-pattern-scale.html                             [ Pass ImageOnlyFailure ]
svg/dynamic-updates/SVGImageElement-svgdom-preserveAspectRatio-prop.html [ Pass ImageOnlyFailure ]
svg/filters/feImage-target-reappend-to-document.svg                      [ Pass ImageOnlyFailure ]

# 3) Historical flakiness of SMIL animations, we don't pause them in these tests, that should
# finally be fixed to avoid this falkniess, even if it means adapting the SVG testsuite manually.
svg/W3C-SVG-1.1/animate-elem-03-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-04-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-05-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-06-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-07-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-08-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-10-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-11-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-12-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-15-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-16-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-17-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-19-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-30-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-32-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-36-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-37-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-40-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-41-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-46-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-81-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/animate-elem-82-t.svg          [ Pass ImageOnlyFailure ]
svg/W3C-SVG-1.1/filters-light-04-f.svg         [ Pass ImageOnlyFailure ]
svg/custom/image-with-prefix-in-webarchive.svg [ Pass ImageOnlyFailure ]

# 4) Unknown origin
svg/carto.net/scrollbar.svg                                       [ Pass Failure ]
svg/carto.net/slider.svg                                          [ Pass Failure ]
svg/custom/scrolling-embedded-svg-file-image-repaint-problem.html [ Pass ImageOnlyFailure ]
svg/dom/use-element-reference-within-use-shadow-tree.html         [ Pass ImageOnlyFailure ]
svg/transforms/animated-path-inside-transformed-html.xhtml        [ Pass ImageOnlyFailure ]
svg/zoom/page/zoom-svg-through-object-with-percentage-size.xhtml  [ Pass ImageOnlyFailure ]

###################
# Crash / Timeout #
###################

svg/custom/marker-child-changes-css.svg                [ Crash ]
svg/custom/marker-child-changes.svg                    [ Crash ]
svg/custom/pattern-3-step-cycle-dynamic-4.html         [ Pass Crash ]

###############
#  OVERRIDES  #
###############

# Reset results inherited from TestExpectations chaining
imported/w3c/web-platform-tests/svg/coordinate-systems/viewBox-baseVal-change-invalid.html                        [ Pass ]
imported/w3c/web-platform-tests/svg/extensibility/foreignObject/foreign-object-scale-scroll.html                  [ Pass ]
imported/w3c/web-platform-tests/svg/extensibility/foreignObject/foreign-object-with-position-under-clip-path.html [ Pass ]
imported/w3c/web-platform-tests/svg/extensibility/foreignObject/isolation-with-html.html                          [ Pass ]
imported/w3c/web-platform-tests/svg/extensibility/foreignObject/scroll-transform-nested-stacked-children.html     [ Pass ]
imported/w3c/web-platform-tests/svg/extensibility/foreignObject/will-change-in-foreign-object-paint-order.html    [ Pass ]
imported/w3c/web-platform-tests/svg/layout/svg-foreign-relayout-001.html                                          [ Pass ]
imported/w3c/web-platform-tests/svg/layout/svg-foreign-relayout-002.html                                          [ Pass ]
imported/w3c/web-platform-tests/svg/painting/reftests/non-scaling-stroke-003.html                                 [ Pass ]
imported/w3c/web-platform-tests/svg/painting/svg-percent-stroke-width-viewbox-update.html                         [ Pass ]
imported/w3c/web-platform-tests/svg/path/distance/pathlength-circle-mutating.svg                                  [ Pass ]
imported/w3c/web-platform-tests/svg/render/order/z-index.svg                                                      [ Pass ]
imported/w3c/web-platform-tests/svg/render/reftests/blending-001.svg                                              [ Pass ]
imported/w3c/web-platform-tests/svg/shapes/rect-03.svg                                                            [ Pass ]
imported/w3c/web-platform-tests/svg/shapes/reftests/pathlength-003.svg                                            [ Pass ]
imported/w3c/web-platform-tests/svg/struct/reftests/inner-svg-css-transform.svg                                   [ Pass ]
imported/w3c/web-platform-tests/svg/struct/reftests/inner-svg-rotate-transform.svg                                [ Pass ]
imported/w3c/web-platform-tests/svg/struct/reftests/inner-svg-transform.svg                                       [ Pass ]
imported/w3c/web-platform-tests/svg/struct/reftests/outer-svg-transform.svg                                       [ Pass ]
svg/W3C-SVG-1.1/text-intro-01-t.svg                                                                               [ Pass ]
svg/W3C-SVG-1.1/text-intro-02-b.svg                                                                               [ Pass ]
svg/W3C-SVG-1.1/text-intro-03-b.svg                                                                               [ Pass ]
svg/W3C-SVG-1.1/text-intro-04-t.svg                                                                               [ Pass ]
svg/W3C-SVG-1.1/text-text-06-t.svg                                                                                [ Pass ]
svg/repaint/text-repainting-after-modifying-transform.html                                                        [ Pass ]
svg/transforms/layout-tiny-elements-in-scaled-group.svg                                                           [ Pass ]
svg/transforms/rotation-origin-in-small-units.svg                                                                 [ Pass ]
svg/transforms/rotation-tiny-element-in-group.svg                                                                 [ Pass ]
svg/transforms/translation-tiny-element.svg                                                                       [ Pass ]

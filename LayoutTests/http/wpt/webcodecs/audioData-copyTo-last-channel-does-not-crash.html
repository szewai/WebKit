<!DOCTYPE html>
<html>
<header>
<script src='/resources/testharness.js'></script>
<script src='/resources/testharnessreport.js'></script>
</header>
<body>
<script>
test(() => {
  const data = new AudioData({
    numberOfChannels: 3,
    data: new Float32Array([1, 1, 1]),
    format: 'f32',
    numberOfFrames: 1,
    sampleRate: 48000,
    timestamp: 0,
  });

  const dataBytes = new Float32Array(1);
  data.copyTo(dataBytes, {planeIndex: 2, format: 'f32-planar'});

  data.close();
}, 'Test that copying last channel from interleaved to planar does not crash');
</script>
</body>
</html>

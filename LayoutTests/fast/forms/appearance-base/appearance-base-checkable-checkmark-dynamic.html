<!-- webkit-test-runner [ CSSInternalAutoBaseParsingEnabled=true ] -->
<style>
    /* This is supposed to be UA sheet. */
    input:is([type="radio"], [type="checkbox"]) {
        margin: 3px 2px;
        box-sizing: border-box;
        border: -internal-auto-base(initial, 0.3em solid currentColor);
        padding: initial;
        background-color: -internal-auto-base(initial, transparent);
    }

    input:is([type=checkbox]:not([switch])) {
        border-radius: -internal-auto-base(unset, 0.5em);
    }

    input[type=radio] {
        border-radius: -internal-auto-base(unset, 100%);
    }

    input:is([type=checkbox]:not([switch]), [type=radio]):disabled {
        border-color: -internal-auto-base(unset, color-mix(in srgb, currentColor 30%, transparent));
        background-color: -internal-auto-base(unset, color-mix(in srgb, currentColor 10%, transparent));
    }

    input[type=checkbox]:not([switch]):checked::checkmark {
        height: 100%;
        width: 100%;
        display: inline-block;
        background-color: currentColor;
    }

    input[type=radio]:checked::checkmark {
        background-color: currentColor;
        display: inline-block;
        border-radius: inherit;
        margin: 10%;
        height: 80%;
        width: 80%;
    }

    input:is([type=checkbox]:not([switch]), [type=radio]):checked:disabled::checkmark {
        background-color: color-mix(in srgb, currentColor 30%, transparent);
    }

    input:is([type=checkbox]:not([switch]), [type=radio]):not(:checked)::checkmark {
        display: none;
    }

    /* This is the beginning of the author sheet. */
    input:is([type=checkbox]:not([switch]), [type=radio]) {
        width: 50px;
        height: 50px;
        color: darkgreen;
    }

    input[type=checkbox]:not([switch]):checked::checkmark {
        mask: url("data:image/svg+xml, \
            <svg viewBox='0 0 48 48' xmlns='http://www.w3.org/2000/svg'> \
                <path style='fill:black;' \
                    d='m 13.296976,22.378053 q 1.132246,0 1.712901,1.858069 1.161279,3.48387 1.654818,3.48387 0.377437,0 0.783891,-0.580641 8.15805,-11.990307 15.096756,-17.070959 2.932262,-2.1483891 5.719358,-2.1483891 3.687104,0 4.441945,0.2322692 0.319353,0.087116 0.319353,0.7257912 0,0.5225878 -0.667756,1.3064627 -18.667725,21.425788 -22.238696,27.870954 -1.219346,2.20644 -5.632257,2.20644 -1.451615,0 -3.048381,-0.754841 -0.667725,-0.348371 -2.3225729,-4.441929 -2.090338,-5.167737 -2.090338,-9.05806 0,-1.422565 2.032254,-2.351608 2.7870949,-1.277429 4.1806419,-1.277429 z' /> \
            </svg>");
    }
</style>
<body>
    <div class="auto-base">
        <input type="radio" name="auto-base" checked>
        <input type="radio" name="auto-base">
        <input type="checkbox" checked>
        <input type="checkbox">
    </div>
    <div class="base-auto">
        <input type="radio" name="base-auto" checked style="appearance: base;">
        <input type="radio" name="base-auto" style="appearance: base;">
        <input type="checkbox" checked style="appearance: base;">
        <input type="checkbox" style="appearance: base;">
    </div>
    <script>
        const checkables = document.querySelectorAll('input');
        checkables.forEach(checkable => {
            if (checkable.style.appearance == 'base')
                checkable.style.appearance = 'auto';
            else
                checkable.style.appearance = 'base';
            checkable.checked = !checkable.checked;
        });
    </script>
</body>
